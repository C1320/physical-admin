(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f99b51ee"],{"5b7b":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"network-box-card"},[s("el-card",{staticClass:"network-card",attrs:{shadow:"hover"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("网络连接")]),s("el-switch",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{"active-text":"连接"},on:{change:t.switchChange},model:{value:t.switchStatus,callback:function(e){t.switchStatus=e},expression:"switchStatus"}})],1),s("el-input",{staticClass:"el-textarea__inner",attrs:{type:"textarea"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1)},i=[],a=(s("673e"),s("3c67")),c={name:"index",data:function(){return{loading:!1,switchStatus:!1,message:"",client:"",topic:"send/weight",sub:"toServer"}},created:function(){this.client=this.$store.state.BaseStore.mqttClient,this.switchStatus=this.$store.state.BaseStore.netConnect},methods:{switchChange:function(t){this.loading=t,t?this.createConnection():(this.client&&this.client.end(),this.$store.commit("BaseStore/updateMqttClient",""),this.$store.commit("BaseStore/updateNetConnect"),this.message="断开连接")},createConnection:function(){var t=this,e=new a["a"]({clientId:"physical-weight"});this.client=e.mqtt_init(),this.client.on("connect",function(e){t.message="连接成功",t.loading=!1,t.$store.commit("BaseStore/updateNetConnect"),t.$store.commit("BaseStore/updateMqttClient",t.client),t.client.subscribe(t.sub,function(e){e||(t.message="订阅成功-".concat(t.sub))})}),this.client.on("message",function(e,s){console.log(e,s),t.message=JSON.stringify(Object(a["b"])(s))})}}},o=c,r=(s("d6df"),s("0c7c")),l=Object(r["a"])(o,n,i,!1,null,"6dc2d6d2",null);e["default"]=l.exports},d6df:function(t,e,s){"use strict";s("d7a2")},d7a2:function(t,e,s){}}]);
//# sourceMappingURL=chunk-f99b51ee.7ee02ce5.js.map