(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-068638d8"],{"200a":function(e,t,a){},"32d4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-data-contain",attrs:{id:"user-data-contain"}},[a("div",{staticStyle:{width:"100% !important",display:"flex","justify-content":"space-between"}},[e.isSearch?a("pageHeader",{attrs:{contentTitle:e.contentTitle},on:{goBack:e.goBack}}):e._e(),a("el-autocomplete",{staticClass:"input-search",attrs:{placeholder:e.placeholder,debounce:0,"fetch-suggestions":e.querySearch,autocomplete:"on",clearable:""},on:{select:e.handleSelect},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onKeyDown(t):null}},model:{value:e.inputSearch,callback:function(t){e.inputSearch=t},expression:"inputSearch"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"tool-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"}},[e._v("批量删除")])],1)])],1)],1),a("div",{staticClass:"user-data-table"},[a("el-table",{staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"","header-cell-style":{"background-color":"#F9F9F9","text-align":"center","font-size":"1rem"},"cell-style":{"text-align":"center","font-size":"1rem"},height:"600px","highlight-current-row":""},on:{"row-dblclick":e.rowDoubleClicked}},[a("el-table-column",{attrs:{fixed:"",prop:"ids",label:"序号",width:"80"}}),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"姓名",sortable:"",width:"100"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"80"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"100"}}),a("el-table-column",{attrs:{prop:"idcard",label:"证件",width:"200"}}),a("el-table-column",{attrs:{prop:"nation",label:"民族",width:"100"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"150"}}),a("el-table-column",{attrs:{prop:"live_type",label:"居住类型",width:"100"}}),a("el-table-column",{attrs:{prop:"org_name",label:"所属机构",width:"100"}}),a("el-table-column",{attrs:{prop:"creatime",sortable:"",label:"建档时间",width:"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewUserClick(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("编辑")])]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[50,100,150,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.userTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("user-info",{attrs:{dialogVisible:e.dialogVisible,userInfoForm:e.userInfo},on:{closeDialogVisible:e.closeDialogVisible,"user-info-form":e.dialogCallback,"update:userInfoForm":function(t){e.userInfo=t}}})],1)},l=[],r=(a("6b54"),a("96cf"),a("1da1")),i=a("ba5f"),o=a("eaee"),n=a("9fd5"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"vForm",attrs:{model:e.formUserInfo=e.userInfoForm||e.formUserInfo,"label-position":"left","label-width":"72px",size:"medium"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",[a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required",attrs:{label:"姓名",prop:"userName"}},[a("el-input",{attrs:{disabled:!e.editor,type:"text",placeholder:"输入姓名",clearable:""},model:{value:e.formUserInfo.name,callback:function(t){e.$set(e.formUserInfo,"name",t)},expression:"formUserInfo.name"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建者",prop:"creator"}},[a("el-input",{attrs:{disabled:"",type:"text",clearable:""},model:{value:e.formUserInfo.creator,callback:function(t){e.$set(e.formUserInfo,"creator",t)},expression:"formUserInfo.creator"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required label-center-align",attrs:{label:"证件号码",prop:"idCard"}},[a("el-input",{attrs:{disabled:!e.editor,type:"text",placeholder:"请输入身份证"},model:{value:e.formUserInfo.idcard,callback:function(t){e.$set(e.formUserInfo,"idcard",t)},expression:"formUserInfo.idcard"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"label-center-align",attrs:{label:"建档时间",prop:"creatTime"}},[a("el-date-picker",{staticClass:"full-width-input",attrs:{disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.formUserInfo.creatime,callback:function(t){e.$set(e.formUserInfo,"creatime",t)},expression:"formUserInfo.creatime"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required",attrs:{label:"年龄",prop:"age"}},[a("el-input",{attrs:{disabled:"",type:"text",clearable:""},model:{value:e.formUserInfo.age,callback:function(t){e.$set(e.formUserInfo,"age",t)},expression:"formUserInfo.age"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属机构",prop:"org_name"}},[a("el-select",{staticClass:"full-width-input",attrs:{disabled:!e.editor},model:{value:e.formUserInfo.org_name,callback:function(t){e.$set(e.formUserInfo,"org_name",t)},expression:"formUserInfo.org_name"}},e._l(e.org_nameOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required",attrs:{label:"民族",prop:"nation"}},[a("el-select",{staticClass:"full-width-input",attrs:{disabled:!e.editor},model:{value:e.formUserInfo.nation,callback:function(t){e.$set(e.formUserInfo,"nation",t)},expression:"formUserInfo.nation"}},e._l(e.nationOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value,disabled:e.disabled}})}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{attrs:{label:"建档状态",prop:"status"}},[a("el-select",{staticClass:"full-width-input",attrs:{disabled:!e.editor},model:{value:e.formUserInfo.status,callback:function(t){e.$set(e.formUserInfo,"status",t)},expression:"formUserInfo.status"}},e._l(e.statusOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value,disabled:e.disabled}})}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required label-center-align",attrs:{label:"联系方式",prop:"phone"}},[a("el-input",{attrs:{disabled:!e.editor,type:"text",placeholder:"请输入手机号",clearable:""},model:{value:e.formUserInfo.phone||"",callback:function(t){e.$set(e.formUserInfo,"phone||''",t)},expression:"formUserInfo.phone||''"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required",attrs:{label:"性别",prop:"gender"}},[a("el-radio-group",{model:{value:e.formUserInfo.gender,callback:function(t){e.$set(e.formUserInfo,"gender",t)},expression:"formUserInfo.gender"}},e._l(e.genderOptions,function(t,s){return a("el-radio",{key:s,staticStyle:{"{display":"inline}"},attrs:{label:t.label,disabled:!e.editor}},[e._v(e._s(t.label))])}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required label-center-align",attrs:{label:"出生日期",prop:"birthday"}},[a("el-date-picker",{staticClass:"full-width-input",attrs:{disabled:!e.editor,type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.formUserInfo.birthday,callback:function(t){e.$set(e.formUserInfo,"birthday",t)},expression:"formUserInfo.birthday"}})],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required label-center-align",attrs:{label:"居住类型",prop:"live_type"}},[a("el-radio-group",{attrs:{disabled:!e.editor},model:{value:e.formUserInfo.live_type,callback:function(t){e.$set(e.formUserInfo,"live_type",t)},expression:"formUserInfo.live_type"}},e._l(e.live_typeOptions,function(t,s){return a("el-radio",{key:s,staticStyle:{"{display":"inline}"},attrs:{label:t.label,disabled:t.disabled}},[e._v(e._s(t.label))])}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required",attrs:{label:"血型",prop:"blood_type"}},[a("el-select",{staticClass:"full-width-input",attrs:{disabled:!e.editor},model:{value:e.formUserInfo.blood_type,callback:function(t){e.$set(e.formUserInfo,"blood_type",t)},expression:"formUserInfo.blood_type"}},e._l(e.blood_typeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:12}},[a("el-form-item",{staticClass:"required",attrs:{label:"类别",prop:"person_type"}},[a("el-select",{staticClass:"full-width-input",attrs:{disabled:!e.editor},model:{value:e.formUserInfo.person_type,callback:function(t){e.$set(e.formUserInfo,"person_type",t)},expression:"formUserInfo.person_type"}},e._l(e.person_typeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})}))],1)],1),a("el-col",{staticClass:"grid-cell",attrs:{span:24}},[a("el-form-item",{staticClass:"required",attrs:{label:"详细地址",prop:"address"}},[a("el-input",{attrs:{disabled:!e.editor,type:"text",placeholder:"请输入居住详细地址",clearable:""},model:{value:e.formUserInfo.address,callback:function(t){e.$set(e.formUserInfo,"address",t)},expression:"formUserInfo.address"}})],1)],1)],1)],1),a("el-row",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-col",{attrs:{span:12}},[a("el-switch",{attrs:{"active-text":"编辑"},model:{value:e.editor,callback:function(t){e.editor=t},expression:"editor"}})],1),a("el-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:12}},[a("el-button",{attrs:{type:"primary"}},[e._v("确定")]),a("el-button",{attrs:{type:"warning"},on:{click:e.handleClose}},[e._v("关闭")])],1)],1)],1)},d=[],u={name:"index",data:function(){return{editor:!1,selfDialogVisible:!1,formUserInfo:{userName:"",creator:"",idCard:"",creatTime:null,age:"",org_name:"",nation:"",status:"",phone:"",gender:"",birthday:null,live_type:"",blood_type:"",person_type:"",address:""},rules:{},org_nameOptions:[],nationOptions:[],statusOptions:[],genderOptions:[],live_typeOptions:[],blood_typeOptions:[],person_typeOptions:[]}},created:function(){this.nationOptions=Object(i["f"])(),this.rules=Object(i["i"])(),this.org_nameOptions=Object(i["g"])(),this.genderOptions=Object(i["b"])(),this.live_typeOptions=Object(i["e"])(),this.blood_typeOptions=Object(i["a"])(),this.person_typeOptions=Object(i["h"])()},methods:{submitForm:function(){this.$refs["vForm"].validate(function(e){})},resetForm:function(){this.$refs["vForm"].resetFields()},handleClose:function(e){this.editor=!1,this.$emit("user-info-form",{}),this.$emit("closeDialogVisible")}},props:["dialogVisible","userInfoForm"]},p=u,f=(a("a2ef"),a("87c5"),a("0c7c")),h=Object(f["a"])(p,c,d,!1,null,"3d73c446",null),b=h.exports,m=(a("ef0e"),{name:"userList",components:{pageHeader:n["a"],userInfo:b},data:function(){return{contentTitle:"搜索",userTotal:0,currentPage:1,pageSize:50,org_code:0,inputSearch:"",tableData:[],isShowBack:!1,isSearch:!1,dialogVisible:!1,userInfo:{},searchSelect:[{id:1,value:"111"},{id:2,value:"222"},{id:3,value:"333"},{id:4,value:"444"}],placeholder:"支持姓名、证件、机构搜索"}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.org_code=this.$store.state.BaseStore.user.org_id,e.next=3,this.getTotal();case 3:return e.next=5,this.getUserList();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{dialogCallback:function(e){this.userInfo={}},handleAdd:function(){this.dialogVisible=!this.dialogVisible},requestSearch:function(){var e=this;this.$get("/likeSearch",{searchText:this.inputSearch,page:this.currentPage,limit:this.pageSize}).then(function(t){200===t.data.status&&(e.isSearch||(e.isSearch=!0,e.isShowBack=!e.isShowBack),e.handleUserData(t.data.result))}).catch(function(e){console.log(e)})},onKeyDown:function(e){13===e.keyCode&&""!==this.inputSearch?(this.pageSize=50,this.currentPage=1,this.search_result_total(),this.requestSearch()):this.messageTip("请输入搜索内容")},searchBtn:function(){""!==this.inputSearch&&(this.pageSize=50,this.currentPage=1,this.search_result_total(),this.requestSearch())},querySearch:function(e,t){var a=[{id:1,value:"111"},{id:2,value:"222"},{id:3,value:"333"},{id:4,value:"444"}],s=e?a.filter(this.createFilter(e)):a;t(s)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)},handleSizeChange:function(e){this.pageSize=e,this.isSearch?this.requestSearch():this.getUserList()},handleCurrentChange:function(e){this.currentPage=e,this.isSearch?this.requestSearch():this.getUserList()},search_result_total:function(){var e=this;this.$get("/SearchTotal",{searchText:this.inputSearch}).then(function(t){if(console.log(t.data),200===t.data.status){var a=t.data.result.total;0===a||"0"===a?e.messageTip("无数据"):e.userTotal=a}else console.log(t.data),e.messageTip(t.data.msg)})},closeDialogVisible:function(){this.dialogVisible=!1},getTotal:function(){var e=this;this.$get("/userTotal",{org_code:this.org_code}).then(function(t){200===t.data.status&&(e.userTotal=t.data.result.total)})},getUserList:function(){var e=this;this.$get("/userList",{org_code:this.org_code,page:this.currentPage,limit:this.pageSize}).then(function(t){200===t.data.status&&e.handleUserData(t.data.result)})},rowDoubleClicked:function(e,t,a){console.log(e,t,a)},viewUserClick:function(e){this.userInfo=Object(o["a"])(e),this.dialogVisible=!this.dialogVisible},handleUserData:function(e){for(var t in e)e[t].ids=(parseInt(t)+1).toString(),e[t].gender=Object(i["d"])(e[t].gender),e[t].live_type=1===e[t].live_type?"户籍":"非户籍",e[t].age=Object(i["c"])(e[t].birthday);this.tableData=e},goBack:function(){this.isSearch=!1,this.isShowBack=!1,this.getTotal(),this.getUserList()},messageTip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"无数据";this.$message({message:e,type:"warning",duration:1500})}}}),g=m,y=(a("fc3d"),Object(f["a"])(g,s,l,!1,null,"48a0f7c2",null));t["default"]=y.exports},"5f1c":function(e,t,a){"use strict";a("6707")},6707:function(e,t,a){},6909:function(e,t,a){},8081:function(e,t,a){},"87c5":function(e,t,a){"use strict";a("200a")},"9fd5":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header"},[a("el-page-header",{attrs:{content:e.contentTitle},on:{back:e.goBack}})],1)},l=[],r={name:"",data:function(){return{}},props:["contentTitle"],methods:{goBack:function(){this.$emit("goBack")}},components:{}},i=r,o=(a("5f1c"),a("0c7c")),n=Object(o["a"])(i,s,l,!1,null,"6432757b",null);t["a"]=n.exports},a2ef:function(e,t,a){"use strict";a("8081")},ef0e:function(e,t,a){},fc3d:function(e,t,a){"use strict";a("6909")}}]);
//# sourceMappingURL=chunk-068638d8.8df9eebf.js.map